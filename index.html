<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Law Syllabi - Anshuman</title>
    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Google Fonts - Inter -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <!-- Marked.js for Markdown rendering -->
    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #0f172a; /* Darker slate background for sci-fi feel */
            color: #cbd5e1; /* Light gray text */
            overflow-x: hidden; /* Prevent horizontal scroll during animations */
        }
        /* Custom styles for Markdown content */
        .markdown-content h1 {
            font-size: 2.25rem; /* text-4xl */
            font-weight: 700; /* font-bold */
            margin-bottom: 1.5rem; /* mb-6 */
            color: #e2e8f0; /* Lighter text for headings */
        }
        .markdown-content h2 {
            font-size: 1.875rem; /* text-3xl */
            font-weight: 600; /* font-semibold */
            margin-top: 2rem; /* mt-8 */
            margin-bottom: 1rem; /* mb-4 */
            color: #e2e8f0;
        }
        .markdown-content h3 {
            font-size: 1.5rem; /* text-2xl */
            font-weight: 600; /* font-semibold */
            margin-top: 1.5rem; /* mt-6 */
            margin-bottom: 0.75rem; /* mb-3 */
            color: #e2e8f0;
        }
        .markdown-content p {
            margin-bottom: 1rem; /* mb-4 */
            line-height: 1.75; /* leading-relaxed */
        }
        .markdown-content ul {
            list-style-type: disc;
            margin-left: 1.5rem; /* ml-6 */
            margin-bottom: 1rem; /* mb-4 */
        }
        .markdown-content ol {
            list-style-type: decimal;
            margin-left: 1.5rem; /* ml-6 */
            margin-bottom: 1rem; /* mb-4 */
        }
        .markdown-content li {
            margin-bottom: 0.5rem; /* mb-2 */
        }
        .markdown-content a {
            color: #60a5fa; /* Blue-400 for links */
            text-decoration: underline;
        }
        .markdown-content a:hover {
            color: #3b82f6; /* Blue-500 on hover */
        }
        .markdown-content pre {
            background-color: #1e293b; /* Darker slate for code blocks */
            padding: 1rem;
            border-radius: 0.5rem;
            overflow-x: auto;
            margin-bottom: 1rem;
            color: #e2e8f0;
        }
        .markdown-content code {
            font-family: 'Fira Code', monospace; /* Or any monospaced font */
            background-color: #1e293b;
            padding: 0.2em 0.4em;
            border-radius: 0.25rem;
        }
        .markdown-content blockquote {
            border-left: 4px solid #475569; /* Slate-600 */
            padding-left: 1rem;
            margin-left: 0;
            margin-bottom: 1rem;
            color: #94a3b8; /* Slate-400 */
        }

        /* --- Custom Animations --- */

        /* Header Gradient Animation */
        @keyframes gradientShift {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }
        .header-animated-bg {
            background-size: 400% 400%;
            animation: gradientShift 20s ease infinite; /* Slower, more subtle shift */
        }

        /* Header Text Glow */
        @keyframes textGlow {
            0%, 100% { text-shadow: 0 0 5px #a78bfa, 0 0 10px #a78bfa, 0 0 15px #a78bfa; } /* Purple glow */
            50% { text-shadow: 0 0 10px #818cf8, 0 0 20px #818cf8, 0 0 30px #818cf8; } /* Blue glow */
        }
        .animate-text-glow {
            animation: textGlow 3s ease-in-out infinite alternate;
        }

        /* Digital Reveal Animation for Sections */
        @keyframes digitalReveal {
            0% { clip-path: inset(0 100% 0 0); transform: translateY(50px); opacity: 0; }
            70% { clip-path: inset(0 0 0 0); transform: translateY(0); opacity: 1; }
            100% { clip-path: inset(0 0 0 0); transform: translateY(0); opacity: 1; }
        }
        .animate-digitalReveal {
            animation: digitalReveal 1.5s cubic-bezier(0.25, 0.46, 0.45, 0.94) forwards;
        }

        /* Pulse Animation for Clicks (more intense glow) */
        @keyframes pulseGlow {
            0% { transform: scale(1); box-shadow: 0 0 0px rgba(59, 130, 246, 0); }
            50% { transform: scale(1.02); box-shadow: 0 0 15px rgba(59, 130, 246, 0.8), 0 0 30px rgba(59, 130, 246, 0.5); }
            100% { transform: scale(1); box-shadow: 0 0 0px rgba(59, 130, 246, 0); }
        }
        .animate-pulse-glow {
            animation: pulseGlow 0.4s ease-in-out;
        }

        /* Hover Effects (more pronounced glow) */
        .syllabus-link {
            transition: transform 0.3s ease-in-out, box-shadow 0.3s ease-in-out, background-color 0.3s ease-in-out;
        }
        .syllabus-link:hover {
            transform: translateY(-7px); /* More pronounced lift on hover */
            box-shadow: 0 0 25px rgba(96, 165, 250, 0.7), 0 0 40px rgba(96, 165, 250, 0.5); /* Electric blue glow */
            background-color: #1e293b; /* Darker background on hover */
        }

        .back-button, .llm-button {
            transition: transform 0.3s ease-in-out, background-color 0.3s ease-in-out, box-shadow 0.3s ease-in-out;
        }
        .back-button:hover {
            transform: translateX(-10px); /* More pronounced slide left on hover */
            background-color: #334155; /* Darker gray on hover */
            box-shadow: 0 0 15px rgba(148, 163, 184, 0.5); /* Subtle gray glow */
        }
        .llm-button:hover {
            transform: translateY(-3px);
            box-shadow: 0 0 15px rgba(167, 139, 250, 0.7), 0 0 30px rgba(167, 139, 250, 0.5); /* Purple glow */
            background-color: #5b21b6; /* Darker purple on hover */
        }

        /* Loading text animation (with glow) */
        @keyframes bounceText {
            0%, 100% { transform: translateY(0); text-shadow: 0 0 5px #60a5fa; }
            50% { transform: translateY(-5px); text-shadow: 0 0 10px #3b82f6; }
        }
        .loading-text span {
            display: inline-block;
            animation: bounceText 1.2s infinite ease-in-out;
        }
        .loading-text span:nth-child(1) { animation-delay: 0s; }
        .loading-text span:nth-child(2) { animation-delay: 0.1s; }
        .loading-text span:nth-child(3) { animation-delay: 0.2s; }
        .loading-text span:nth-child(4) { animation-delay: 0.3s; }
        .loading-text span:nth-child(5) { animation-delay: 0.4s; }
        .loading-text span:nth-child(6) { animation-delay: 0.5s; }
        .loading-text span:nth-child(7) { animation-delay: 0.6s; }
        .loading-text span:nth-child(8) { animation-delay: 0.7s; }
        .loading-text span:nth-child(9) { animation-delay: 0.8s; }
        .loading-text span:nth-child(10) { animation-delay: 0.9s; }
        .loading-text span:nth-child(11) { animation-delay: 1.0s; }
        .loading-text span:nth-child(12) { animation-delay: 1.1s; }
        .loading-text span:nth-child(13) { animation-delay: 1.2s; }
        .loading-text span:nth-child(14) { animation-delay: 1.3s; }
        .loading-text span:nth-child(15) { animation-delay: 1.4s; }
        .loading-text span:nth-child(16) { animation-delay: 1.5s; }

        /* Spinner animation with multiple layers */
        @keyframes spinnerGlow {
            0% { border-color: #60a5fa transparent transparent transparent; }
            25% { border-color: transparent #818cf8 transparent transparent; }
            50% { border-color: transparent transparent #a78bfa transparent; }
            75% { border-color: transparent transparent transparent #c4b5fd; }
            100% { border-color: #60a5fa transparent transparent transparent; }
        }
        .loading-spinner {
            border-width: 4px;
            border-style: solid;
            border-radius: 50%;
            width: 48px;
            height: 48px;
            animation: spin 1.2s linear infinite, spinnerGlow 2.4s ease-in-out infinite;
        }
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
    </style>
</head>
<body class="flex flex-col min-h-screen">

    <!-- Header Section -->
    <header class="header-animated-bg bg-gradient-to-r from-blue-800 via-purple-900 to-indigo-900 shadow-lg py-10 sm:py-16">
        <div class="container mx-auto px-4 text-center">
            <h1 class="text-4xl sm:text-6xl font-extrabold text-white leading-tight mb-4 animate-text-glow">Law Syllabi</h1>
            <p class="text-xl sm:text-2xl text-blue-200 font-light animate-text-glow" style="animation-delay: 0.5s;">Syllabuses designed for courses taught/assisted at various levels.</p>
        </div>
    </header>

    <!-- Main Content Section -->
    <main class="flex-grow container mx-auto px-4 py-8 sm:py-12">
        <!-- Introduction Section -->
        <section id="introduction-section" class="bg-gray-800 p-6 sm:p-8 rounded-xl shadow-lg mb-8 animate-digitalReveal" style="animation-delay: 0.2s;">
            <p class="text-lg leading-relaxed mb-4 text-gray-300">
                If you're a law student, the syllabuses and suggested readings might be helpful in guiding your trips to the library. In case you're unable to procure any of the suggested materials, let me know and I'll see if I can get it for you.
            </p>
            <p class="text-lg leading-relaxed mb-6 text-gray-300">
                If you're a professor teaching any of these subjects, feel free to follow the sample syllabus or suggest changes (both for syllabus as well as suggested readings).
            </p>
            <p class="text-lg font-medium text-right text-gray-200">Best,</p>
            <p class="text-lg font-medium text-right text-gray-200">Anshuman (<a href="https://anshumansahoo.com/" target="_blank" rel="noopener noreferrer" class="text-blue-400 hover:text-blue-500 underline">https://anshumansahoo.com/</a>)</p>
        </section>

        <!-- Loading Indicator -->
        <div id="loading-indicator" class="hidden text-center py-8">
            <div class="loading-spinner mx-auto mb-4"></div>
            <p class="text-blue-400 text-lg loading-text">
                <span>L</span><span>o</span><span>a</span><span>d</span><span>i</span><span>n</span><span>g</span>&nbsp;<span>s</span><span>y</span><span>l</span><span>l</span><span>a</span><span>b</span><span>u</span><span>s</span><span>.</span><span>.</span><span>.</span>
            </p>
        </div>

        <!-- Syllabi List Section -->
        <section id="syllabi-list-section" class="bg-gray-800 p-6 sm:p-8 rounded-xl shadow-lg animate-digitalReveal" style="animation-delay: 0.5s;">
            <h2 class="text-2xl sm:text-3xl font-bold text-gray-200 mb-6">Links to individual subjects:</h2>
            <nav>
                <ul class="space-y-4">
                    <li>
                        <a href="#" data-url="https://raw.githubusercontent.com/anshuman-law/law-syllabi/main/Corporate-Law.md" class="syllabus-link block bg-gray-700 hover:bg-gray-700 transition duration-300 ease-in-out p-4 rounded-lg shadow-sm hover:shadow-md text-blue-300 font-semibold text-lg transform">
                            Corporate Law
                        </a>
                    </li>
                    <li>
                        <a href="#" data-url="https://raw.githubusercontent.com/anshuman-law/law-syllabi/main/Economics-for-Lawyers.md" class="syllabus-link block bg-gray-700 hover:bg-gray-700 transition duration-300 ease-in-out p-4 rounded-lg shadow-sm hover:shadow-md text-blue-300 font-semibold text-lg transform">
                            Economics for Lawyers
                        </a>
                    </li>
                    <li>
                        <a href="#" data-url="https://raw.githubusercontent.com/anshuman-law/law-syllabi/main/IP-and-Competition-Law.md" class="syllabus-link block bg-gray-700 hover:bg-gray-700 transition duration-300 ease-in-out p-4 rounded-lg shadow-sm hover:shadow-md text-blue-300 font-semibold text-lg transform">
                            Intellectual Property and Competition Law
                        </a>
                    </li>
                    <li>
                        <a href="#" data-url="https://raw.githubusercontent.com/anshuman-law/law-syllabi/main/Legal-Research-Methodology.md" class="syllabus-link block bg-gray-700 hover:bg-gray-700 transition duration-300 ease-in-out p-4 rounded-lg shadow-sm hover:shadow-md text-blue-300 font-semibold text-lg transform">
                            Legal Research Methodology
                        </a>
                    </li>
                    <li>
                        <a href="#" data-url="https://raw.githubusercontent.com/anshuman-law/law-syllabi/main/legal-complexity.md" class="syllabus-link block bg-gray-700 hover:bg-gray-700 transition duration-300 ease-in-out p-4 rounded-lg shadow-sm hover:shadow-md text-blue-300 font-semibold text-lg transform">
                            Complexity Science and Law
                        </a>
                    </li>
                    <li>
                        <a href="#" data-url="https://anshuman-law.github.io/res-phil/" class="syllabus-link block bg-gray-700 hover:bg-gray-700 transition duration-300 ease-in-out p-4 rounded-lg shadow-sm hover:shadow-md text-blue-300 font-semibold text-lg transform">
                            Theorizing Research: Epistemology, Method, and Critique
                        </a>
                    </li>
                </ul>
            </nav>
        </section>

        <!-- Syllabus Content Section (hidden by default) -->
        <section id="syllabus-content-section" class="hidden bg-gray-800 p-6 sm:p-8 rounded-xl shadow-lg mt-8 animate-digitalReveal">
            <div class="flex flex-col sm:flex-row justify-between items-start sm:items-center mb-6">
                <button id="back-button" class="back-button bg-gray-700 hover:bg-gray-700 text-gray-200 font-semibold py-2 px-4 rounded-lg shadow-md transition duration-300 ease-in-out transform mb-4 sm:mb-0">
                    &larr; Back to Syllabi
                </button>
                <button id="summarize-syllabus-button" class="llm-button bg-purple-700 hover:bg-purple-800 text-white font-semibold py-2 px-4 rounded-lg shadow-md transition duration-300 ease-in-out transform">
                    Summarize Syllabus ✨
                </button>
            </div>
            <div id="summary-loading-indicator" class="hidden text-center py-4">
                <div class="loading-spinner mx-auto mb-2 w-8 h-8"></div>
                <p class="text-purple-400 text-sm loading-text">
                    <span>G</span><span>e</span><span>n</span><span>e</span><span>r</span><span>a</span><span>t</span><span>i</span><span>n</span><span>g</span>&nbsp;<span>s</span><span>u</span><span>m</span><span>m</span><span>a</span><span>r</span><span>y</span><span>.</span><span>.</span><span>.</span>
                </p>
            </div>
            <div id="syllabus-summary" class="bg-gray-900 p-4 rounded-lg text-gray-300 mb-6 hidden">
                <h3 class="text-xl font-bold text-purple-300 mb-3">Syllabus Summary:</h3>
                <p id="summary-text"></p>
            </div>
            <div id="syllabus-content" class="markdown-content">
                <!-- Markdown content will be loaded here -->
            </div>
        </section>
    </main>

    <!-- Footer Section -->
    <footer class="bg-gray-900 text-gray-400 py-6 mt-8">
        <div class="container mx-auto px-4 text-center">
            <p class="mb-2">&copy; 2025 Anshuman. All rights reserved.</p>
            <p class="text-sm">
                <a href="https://github.com/anshuman-law/law-syllabi" target="_blank" rel="noopener noreferrer" class="text-blue-400 hover:text-blue-200 underline">
                    View on GitHub
                </a>
            </p>
        </div>
    </footer>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const introductionSection = document.getElementById('introduction-section');
            const syllabiListSection = document.getElementById('syllabi-list-section');
            const syllabusContentSection = document.getElementById('syllabus-content-section');
            const syllabusContentDiv = document.getElementById('syllabus-content');
            const loadingIndicator = document.getElementById('loading-indicator');
            const backButton = document.getElementById('back-button');
            const syllabusLinks = document.querySelectorAll('.syllabus-link');

            // LLM specific elements
            const summarizeSyllabusButton = document.getElementById('summarize-syllabus-button');
            const syllabusSummaryDiv = document.getElementById('syllabus-summary');
            const summaryTextP = document.getElementById('summary-text');
            const summaryLoadingIndicator = document.getElementById('summary-loading-indicator');

            let currentSyllabusMarkdown = ''; // To store the raw markdown for summarization

            // Function to show loading indicator for page transitions
            function showLoading() {
                loadingIndicator.classList.remove('hidden');
                introductionSection.classList.add('hidden');
                syllabiListSection.classList.add('hidden');
                syllabusContentSection.classList.add('hidden');

                // Remove animation classes when hiding sections to allow re-animation
                introductionSection.classList.remove('animate-digitalReveal');
                syllabiListSection.classList.remove('animate-digitalReveal');
                syllabusContentSection.classList.remove('animate-digitalReveal');
            }

            // Function to hide loading indicator for page transitions
            function hideLoading() {
                loadingIndicator.classList.add('hidden');
            }

            // Function to show the main syllabi list
            function showSyllabiList() {
                introductionSection.classList.remove('hidden');
                syllabiListSection.classList.remove('hidden');
                syllabusContentSection.classList.add('hidden');
                syllabusContentDiv.innerHTML = ''; // Clear previous content
                syllabusSummaryDiv.classList.add('hidden'); // Hide summary when going back
                summaryTextP.textContent = ''; // Clear summary text

                // Re-apply animations for sections when they become visible
                introductionSection.classList.add('animate-digitalReveal');
                syllabiListSection.classList.add('animate-digitalReveal');
                syllabusContentSection.classList.remove('animate-digitalReveal'); // Ensure it's off if coming back from content
            }

            // Function to fetch and display syllabus content
            async function fetchSyllabus(url) {
                showLoading();
                try {
                    const response = await fetch(url);
                    if (!response.ok) {
                        throw new Error(`HTTP error! status: ${response.status}`);
                    }
                    currentSyllabusMarkdown = await response.text(); // Store the raw markdown
                    syllabusContentDiv.innerHTML = marked.parse(currentSyllabusMarkdown); // Render Markdown to HTML
                    syllabusContentSection.classList.remove('hidden');
                    syllabusContentSection.classList.add('animate-digitalReveal'); // Apply animation when content is shown
                } catch (error) {
                    console.error('Error fetching syllabus:', error);
                    syllabusContentDiv.innerHTML = '<p class="text-red-600">Failed to load syllabus. Please try again later.</p>';
                    syllabusContentSection.classList.remove('hidden'); // Still show the section to display error
                    syllabusContentSection.classList.add('animate-digitalReveal'); // Apply animation even on error
                } finally {
                    hideLoading();
                }
            }

            // Function to summarize syllabus using Gemini API
            async function summarizeSyllabus() {
                if (!currentSyllabusMarkdown) {
                    summaryTextP.textContent = "No syllabus content to summarize.";
                    syllabusSummaryDiv.classList.remove('hidden');
                    return;
                }

                summaryLoadingIndicator.classList.remove('hidden');
                syllabusSummaryDiv.classList.add('hidden'); // Hide previous summary
                summaryTextP.textContent = ''; // Clear previous summary text

                try {
                    const prompt = `Summarize the following law syllabus in a concise and clear manner, highlighting the main topics, objectives, and key readings. Focus on providing a high-level overview suitable for a law student or professor.

                    Syllabus Content:
                    ${currentSyllabusMarkdown}`;

                    let chatHistory = [];
                    chatHistory.push({ role: "user", parts: [{ text: prompt }] });

                    const payload = { contents: chatHistory };
                    const apiKey = ""; // Canvas will automatically provide the API key
                    const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent?key=${apiKey}`;

                    const response = await fetch(apiUrl, {
                        method: 'POST',
                        headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify(payload)
                    });

                    const result = await response.json();

                    if (result.candidates && result.candidates.length > 0 &&
                        result.candidates[0].content && result.candidates[0].content.parts &&
                        result.candidates[0].content.parts.length > 0) {
                        const text = result.candidates[0].content.parts[0].text;
                        summaryTextP.textContent = text;
                        syllabusSummaryDiv.classList.remove('hidden');
                    } else {
                        summaryTextP.textContent = "Could not generate summary. Please try again.";
                        syllabusSummaryDiv.classList.remove('hidden');
                        console.error("Gemini API response structure unexpected:", result);
                    }
                } catch (error) {
                    console.error('Error calling Gemini API:', error);
                    summaryTextP.textContent = "Error generating summary. Please check your network connection or try again later.";
                    syllabusSummaryDiv.classList.remove('hidden');
                } finally {
                    summaryLoadingIndicator.classList.add('hidden');
                }
            }


            // Add event listeners to syllabus links
            syllabusLinks.forEach(link => {
                link.addEventListener('click', (event) => {
                    event.preventDefault(); // Prevent default link behavior
                    const url = event.currentTarget.dataset.url;

                    // Add pulse glow animation on click
                    event.currentTarget.classList.add('animate-pulse-glow');
                    event.currentTarget.addEventListener('animationend', () => {
                        event.currentTarget.classList.remove('animate-pulse-glow');
                    }, { once: true });

                    if (url) {
                        fetchSyllabus(url);
                    }
                });
            });

            // Add event listener to the back button
            backButton.addEventListener('click', (event) => {
                // Add pulse glow animation on click
                event.currentTarget.classList.add('animate-pulse-glow');
                event.currentTarget.addEventListener('animationend', () => {
                    event.currentTarget.classList.remove('animate-pulse-glow');
                }, { once: true });

                showSyllabiList();
            });

            // Add event listener for the summarize button
            summarizeSyllabusButton.addEventListener('click', (event) => {
                event.currentTarget.classList.add('animate-pulse-glow');
                event.currentTarget.addEventListener('animationend', () => {
                    event.currentTarget.classList.remove('animate-pulse-glow');
                }, { once: true });
                summarizeSyllabus();
            });

            // Initial state: show the syllabi list
            showSyllabiList();
        });
    </script>
</body>
</html>
